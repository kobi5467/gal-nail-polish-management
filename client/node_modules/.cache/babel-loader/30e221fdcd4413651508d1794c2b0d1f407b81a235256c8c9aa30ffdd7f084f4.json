{"ast":null,"code":"import React,{useEffect}from\"react\";import{Routes,Route}from\"react-router-dom\";import{useNavigate,useLocation}from\"react-router-dom\";import{useUserContext}from\"./components/contexts/user_context_provider\";import SignInScreen from\"./screens/auth/sign_in_screen\";import SignUpScreen from\"./screens/auth/sign_up_screen\";import SnackBar from\"./components/snack_bar\";import DashboardScreen from\"./screens/dashboard/dashboard_screen\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useUserContext=useUserContext(),setToken=_useUserContext.setToken;var navigate=useNavigate();var location=useLocation();useEffect(function(){var token=localStorage.getItem(\"token\");if(token==null&&!location.pathname.startsWith(\"/sign\")){navigate(\"/sign-in\");return;}setToken(token);},[]);return/*#__PURE__*/_jsx(SnackBar,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(SignInScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(SignUpScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(DashboardScreen,{})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","Routes","Route","useNavigate","useLocation","useUserContext","SignInScreen","SignUpScreen","SnackBar","DashboardScreen","App","setToken","navigate","location","token","localStorage","getItem","pathname","startsWith"],"sources":["/home/kobi/kobi_devs/web-project-moran/gel-nail-polish-management-project/client/src/App.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nimport { useUserContext } from \"./components/contexts/user_context_provider\";\nimport SignInScreen from \"./screens/auth/sign_in_screen\";\nimport SignUpScreen from \"./screens/auth/sign_up_screen\";\nimport SnackBar from \"./components/snack_bar\";\nimport DashboardScreen from \"./screens/dashboard/dashboard_screen\";\n\nfunction App() {\n  const { setToken } = useUserContext();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    var token = localStorage.getItem(\"token\");\n    if (token == null && !location.pathname.startsWith(\"/sign\")) {\n      navigate(\"/sign-in\");\n      return;\n    }\n    setToken(token);\n  }, []);\n\n  return (\n    <SnackBar>\n      <Routes>\n        <Route path=\"/sign-in\" element={<SignInScreen />} />\n        <Route path=\"/sign-up\" element={<SignUpScreen />} />\n        <Route path=\"/*\" element={<DashboardScreen />} />\n      </Routes>\n    </SnackBar>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAE3D,OAASC,cAAc,KAAQ,6CAA6C,CAC5E,MAAOC,aAAY,KAAM,+BAA+B,CACxD,MAAOC,aAAY,KAAM,+BAA+B,CACxD,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,MAAOC,gBAAe,KAAM,sCAAsC,CAAC,wFAEnE,QAASC,IAAG,EAAG,CACb,oBAAqBL,cAAc,EAAE,CAA7BM,QAAQ,iBAARA,QAAQ,CAEhB,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B,GAAMU,SAAQ,CAAGT,WAAW,EAAE,CAE9BJ,SAAS,CAAC,UAAM,CACd,GAAIc,MAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACzC,GAAIF,KAAK,EAAI,IAAI,EAAI,CAACD,QAAQ,CAACI,QAAQ,CAACC,UAAU,CAAC,OAAO,CAAC,CAAE,CAC3DN,QAAQ,CAAC,UAAU,CAAC,CACpB,OACF,CACAD,QAAQ,CAACG,KAAK,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,KAAC,QAAQ,wBACP,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,OAAO,cAAE,KAAC,YAAY,IAAI,EAAG,cACpD,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,OAAO,cAAE,KAAC,YAAY,IAAI,EAAG,cACpD,KAAC,KAAK,EAAC,IAAI,CAAC,IAAI,CAAC,OAAO,cAAE,KAAC,eAAe,IAAI,EAAG,GAC1C,EACA,CAEf,CAEA,cAAeJ,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}