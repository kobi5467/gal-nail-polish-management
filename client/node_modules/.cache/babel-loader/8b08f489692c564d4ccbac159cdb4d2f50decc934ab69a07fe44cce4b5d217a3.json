{"ast":null,"code":"import _regeneratorRuntime from\"/home/kobi/kobi_devs/web-project-moran/gel-nail-polish-management-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/kobi/kobi_devs/web-project-moran/gel-nail-polish-management-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/kobi/kobi_devs/web-project-moran/gel-nail-polish-management-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useUserContext}from\"../../components/contexts/user_context_provider\";import{getUserInfo}from\"../../controllers/user_controller\";import{Grid}from\"@mui/material\";import NavBar from\"./nav_bar\";import{Routes,Route}from\"react-router-dom\";import AppointmentsScreen from\"./appointments/appointments_screen\";import HomeScreen from\"./home/home_screen\";import{homeRoute,myCalendarRoute}from\"../../constants/routes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DashboardScreen=function DashboardScreen(){var _useUserContext=useUserContext(),token=_useUserContext.token,user=_useUserContext.user,setUser=_useUserContext.setUser;var _useState=useState(homeRoute),_useState2=_slicedToArray(_useState,2),currentRoute=_useState2[0],setCurrentRoute=_useState2[1];useEffect(function(){if(token==null)return;var getUserInfoInternal=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUserInfo(token);case 2:response=_context.sent;if(response.status===\"OK\"){setUser(response.data);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getUserInfoInternal(){return _ref.apply(this,arguments);};}();getUserInfoInternal();return function(){};},[token]);return/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{xs:12,children:/*#__PURE__*/_jsx(NavBar,{currentRoute:currentRoute,setCurrentRoute:setCurrentRoute})}),/*#__PURE__*/_jsx(Grid,{xs:12,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeScreen,{})}),/*#__PURE__*/_jsx(Route,{path:homeRoute,element:/*#__PURE__*/_jsx(HomeScreen,{})}),/*#__PURE__*/_jsx(Route,{path:myCalendarRoute,element:/*#__PURE__*/_jsx(AppointmentsScreen,{})})]})})]});};export default DashboardScreen;","map":{"version":3,"names":["React","useState","useEffect","useUserContext","getUserInfo","Grid","NavBar","Routes","Route","AppointmentsScreen","HomeScreen","homeRoute","myCalendarRoute","DashboardScreen","token","user","setUser","currentRoute","setCurrentRoute","getUserInfoInternal","response","status","data"],"sources":["/home/kobi/kobi_devs/web-project-moran/gel-nail-polish-management-project/client/src/screens/dashboard/dashboard_screen.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { useUserContext } from \"../../components/contexts/user_context_provider\";\nimport { getUserInfo } from \"../../controllers/user_controller\";\nimport { Grid } from \"@mui/material\";\nimport NavBar from \"./nav_bar\";\nimport { Routes, Route } from \"react-router-dom\";\nimport AppointmentsScreen from \"./appointments/appointments_screen\";\nimport HomeScreen from \"./home/home_screen\";\nimport { homeRoute, myCalendarRoute } from \"../../constants/routes\";\n\nconst DashboardScreen = () => {\n  const { token, user, setUser } = useUserContext();\n  const [currentRoute, setCurrentRoute] = useState(homeRoute);\n  useEffect(() => {\n    if (token == null) return;\n\n    const getUserInfoInternal = async () => {\n      var response = await getUserInfo(token);\n      if (response.status === \"OK\") {\n        setUser(response.data);\n      }\n    };\n\n    getUserInfoInternal();\n\n    return () => {};\n  }, [token]);\n\n  return (\n    <Grid container>\n      <Grid xs={12}>\n        <NavBar currentRoute={currentRoute} setCurrentRoute={setCurrentRoute} />\n      </Grid>\n      <Grid xs={12}>\n        <Routes>\n          <Route path=\"/\" element={<HomeScreen />} />\n          <Route path={homeRoute} element={<HomeScreen />} />\n          <Route path={myCalendarRoute} element={<AppointmentsScreen />} />\n        </Routes>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default DashboardScreen;\n"],"mappings":"kgBAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,OAASC,cAAc,KAAQ,iDAAiD,CAChF,OAASC,WAAW,KAAQ,mCAAmC,CAC/D,OAASC,IAAI,KAAQ,eAAe,CACpC,MAAOC,OAAM,KAAM,WAAW,CAC9B,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,MAAOC,mBAAkB,KAAM,oCAAoC,CACnE,MAAOC,WAAU,KAAM,oBAAoB,CAC3C,OAASC,SAAS,CAAEC,eAAe,KAAQ,wBAAwB,CAAC,wFAEpE,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5B,oBAAiCV,cAAc,EAAE,CAAzCW,KAAK,iBAALA,KAAK,CAAEC,IAAI,iBAAJA,IAAI,CAAEC,OAAO,iBAAPA,OAAO,CAC5B,cAAwCf,QAAQ,CAACU,SAAS,CAAC,wCAApDM,YAAY,eAAEC,eAAe,eACpChB,SAAS,CAAC,UAAM,CACd,GAAIY,KAAK,EAAI,IAAI,CAAE,OAEnB,GAAMK,oBAAmB,4FAAG,wKACLf,YAAW,CAACU,KAAK,CAAC,QAAnCM,QAAQ,eACZ,GAAIA,QAAQ,CAACC,MAAM,GAAK,IAAI,CAAE,CAC5BL,OAAO,CAACI,QAAQ,CAACE,IAAI,CAAC,CACxB,CAAC,sDACF,kBALKH,oBAAmB,0CAKxB,CAEDA,mBAAmB,EAAE,CAErB,MAAO,WAAM,CAAC,CAAC,CACjB,CAAC,CAAE,CAACL,KAAK,CAAC,CAAC,CAEX,mBACE,MAAC,IAAI,EAAC,SAAS,6BACb,KAAC,IAAI,EAAC,EAAE,CAAE,EAAG,uBACX,KAAC,MAAM,EAAC,YAAY,CAAEG,YAAa,CAAC,eAAe,CAAEC,eAAgB,EAAG,EACnE,cACP,KAAC,IAAI,EAAC,EAAE,CAAE,EAAG,uBACX,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,UAAU,IAAI,EAAG,cAC3C,KAAC,KAAK,EAAC,IAAI,CAAEP,SAAU,CAAC,OAAO,cAAE,KAAC,UAAU,IAAI,EAAG,cACnD,KAAC,KAAK,EAAC,IAAI,CAAEC,eAAgB,CAAC,OAAO,cAAE,KAAC,kBAAkB,IAAI,EAAG,GAC1D,EACJ,GACF,CAEX,CAAC,CAED,cAAeC,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}